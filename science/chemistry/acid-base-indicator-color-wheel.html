<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indicator Color Wheel - LuminousLearner International</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0F172A; color: #e2e8f0; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Solution Liquid Transition */
        .solution-color { transition: background-color 0.3s ease; }

        /* pH Slider Styling */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #ffffff;
            border: 2px solid #6366f1; /* Indigo-500 */
            cursor: pointer;
            margin-top: -10px;
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #475569;
            border-radius: 2px;
        }
        
        /* Bubbles */
        @keyframes bubble-rise {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            50% { opacity: 0.5; }
            100% { transform: translateY(-60px) scale(1.2); opacity: 0; }
        }
        .bubble {
            position: absolute;
            background: rgba(255,255,255,0.4);
            border-radius: 50%;
            animation: bubble-rise 3s infinite ease-in;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div id="root" class="flex-grow flex flex-col"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Indicator Data (Internationalized)
        const Indicators = [
            {
                id: 'methyl_orange',
                name: 'Methyl Orange',
                lowPH: 3.1,
                highPH: 4.4,
                lowColor: [239, 68, 68], // Red (rgb)
                highColor: [234, 179, 8], // Yellow (rgb)
                desc: 'Used for Strong Acid vs Weak Base titrations. Red in acid, Yellow in alkali.'
            },
            {
                id: 'litmus',
                name: 'Litmus',
                lowPH: 5.0,
                highPH: 8.0,
                lowColor: [239, 68, 68], // Red
                highColor: [59, 130, 246], // Blue
                desc: 'The classic indicator. Red in acid, Blue in alkali. Purple at neutral.'
            },
            {
                id: 'phenolphthalein',
                name: 'Phenolphthalein',
                lowPH: 8.3,
                highPH: 10.0,
                lowColor: [255, 255, 255], // Colorless (White for display)
                highColor: [236, 72, 153], // Pink/Magenta
                desc: 'Used for Weak Acid vs Strong Base titrations. Colorless in acid, Pink in alkali.'
            }
        ];

        // Common Substances Data (Internationalized)
        const Substances = [
            { ph: 0, name: 'Battery Acid', icon: 'ðŸ”‹' },
            { ph: 1, name: 'Stomach Acid', icon: 'ðŸ¤¢' },
            { ph: 2, name: 'Lemon Juice', icon: 'ðŸ‹' },
            { ph: 3, name: 'Vinegar / Soda', icon: 'ðŸ¥¤' },
            { ph: 4, name: 'Tomato Juice', icon: 'ðŸ…' },
            { ph: 5, name: 'Black Coffee', icon: 'â˜•' },
            { ph: 6, name: 'Milk / Urine', icon: 'ðŸ¥›' },
            { ph: 7, name: 'Pure Water', icon: 'ðŸ’§' },
            { ph: 8, name: 'Sea Water / Egg', icon: 'ðŸŒŠ' },
            { ph: 9, name: 'Baking Soda', icon: 'ðŸª' },
            { ph: 10, name: 'Antacid', icon: 'ðŸ’Š' },
            { ph: 11, name: 'Ammonia Solution', icon: 'ðŸ§ª' },
            { ph: 12, name: 'Soapy Water', icon: 'ðŸ§¼' },
            { ph: 13, name: 'Bleach', icon: 'ðŸ§´' },
            { ph: 14, name: 'Drain Cleaner', icon: 'â˜ ï¸' }
        ];

        const Icon = ({ name, size = 20, className = "" }) => {
            const [svg, setSvg] = useState('');
            useEffect(() => {
                if (window.lucide) {
                    const iconNode = window.lucide.icons[name];
                    if (iconNode) {
                        const iconSvg = window.lucide.createElement(iconNode);
                        iconSvg.setAttribute('width', size);
                        iconSvg.setAttribute('height', size);
                        iconSvg.setAttribute('class', className);
                        setSvg(iconSvg.outerHTML);
                    }
                }
            }, [name, size, className]);
            return <span dangerouslySetInnerHTML={{ __html: svg }} className="flex items-center" />;
        };

        const App = () => {
            const [ph, setPh] = useState(7.0);
            const [colors, setColors] = useState({});

            // Helper: Interpolate color based on pH
            const calculateColor = (ph, ind) => {
                if (ph <= ind.lowPH) return `rgb(${ind.lowColor.join(',')})`;
                if (ph >= ind.highPH) return `rgb(${ind.highColor.join(',')})`;
                
                // Linear Interpolation
                const ratio = (ph - ind.lowPH) / (ind.highPH - ind.lowPH);
                const r = Math.round(ind.lowColor[0] + (ind.highColor[0] - ind.lowColor[0]) * ratio);
                const g = Math.round(ind.lowColor[1] + (ind.highColor[1] - ind.lowColor[1]) * ratio);
                const b = Math.round(ind.lowColor[2] + (ind.highColor[2] - ind.lowColor[2]) * ratio);
                
                return `rgb(${r}, ${g}, ${b})`;
            };

            // Determine text description for color
            const getColorName = (ph, ind) => {
                if (ind.id === 'phenolphthalein') {
                    if (ph < 8.3) return 'Colorless';
                    if (ph > 10.0) return 'Pink';
                    return 'Pale Pink';
                }
                if (ind.id === 'methyl_orange') {
                    if (ph < 3.1) return 'Red';
                    if (ph > 4.4) return 'Yellow';
                    return 'Orange';
                }
                if (ind.id === 'litmus') {
                    if (ph < 5.0) return 'Red';
                    if (ph > 8.0) return 'Blue';
                    return 'Purple';
                }
                return '';
            };

            // Update colors on pH change
            useEffect(() => {
                const newColors = {};
                Indicators.forEach(ind => {
                    newColors[ind.id] = calculateColor(ph, ind);
                });
                setColors(newColors);
            }, [ph]);

            // Generate Bubbles for visual effect
            const Beaker = ({ indicator }) => {
                const bgColor = colors[indicator.id] || '#fff';
                const colorName = getColorName(ph, indicator);

                return (
                    <div className="flex flex-col items-center w-full md:w-1/3">
                        <div className="w-32 h-40 border-4 border-slate-500 rounded-b-xl relative overflow-hidden bg-slate-800 shadow-lg">
                            {/* Liquid */}
                            <div 
                                className="absolute bottom-0 w-full h-3/4 solution-color opacity-80"
                                style={{ backgroundColor: bgColor }}
                            >
                                {/* Bubbles */}
                                {[...Array(6)].map((_,i) => (
                                    <div key={i} className="bubble" 
                                         style={{
                                             left: `${Math.random()*80 + 10}%`,
                                             width: `${Math.random()*10+5}px`,
                                             height: `${Math.random()*10+5}px`,
                                             animationDelay: `${Math.random()*2}s`,
                                             animationDuration: `${2+Math.random()*2}s`
                                         }}></div>
                                ))}
                            </div>
                            
                            {/* Glass Reflection */}
                            <div className="absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-white/10 to-transparent pointer-events-none"></div>
                        </div>
                        
                        <div className="mt-4 text-center">
                            <h3 className="font-bold text-slate-300 text-lg">{indicator.name}</h3>
                            
                            <div className="bg-slate-800 border border-slate-700 rounded-lg p-2 shadow-sm mt-2">
                                <span className="block text-xs font-bold text-slate-500 uppercase">Color at pH {Number(ph).toFixed(1)}</span>
                                <span className="block font-bold" style={{color: bgColor === 'rgb(255, 255, 255)' ? '#e2e8f0' : bgColor}}>
                                    {colorName}
                                </span>
                            </div>
                        </div>
                    </div>
                );
            };

            const substance = Substances.find(s => s.ph === Math.round(parseFloat(ph)));

            return (
                <div className="flex flex-col h-full container mx-auto px-4 py-8 max-w-5xl">
                    
                    {/* Header */}
                    <div className="text-center mb-10">
                        <h1 className="text-3xl font-black text-indigo-400 flex items-center justify-center gap-3 mb-2">
                            <Icon name="Palette" size={32} /> Indicator Color Wheel
                        </h1>
                        <p className="text-slate-400">Simulate pH Changes & Indicator Responses</p>
                    </div>

                    {/* Control Area */}
                    <div className="bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-700 mb-12">
                        <div className="flex justify-between items-end mb-4">
                            <div>
                                <label className="text-sm font-bold text-slate-400 uppercase block mb-1">Adjust pH Value</label>
                                {substance && (
                                    <div className="flex items-center gap-2 text-sm text-slate-300 animate-pulse">
                                        <span>{substance.icon}</span> {substance.name}
                                    </div>
                                )}
                            </div>
                            <div className="text-5xl font-mono font-bold text-indigo-400">{Number(ph).toFixed(1)}</div>
                        </div>
                        
                        <div className="relative h-12 flex items-center">
                            {/* pH Scale Background */}
                            <div className="absolute w-full h-4 rounded-full overflow-hidden" 
                                 style={{background: 'linear-gradient(to right, #ef4444, #f97316, #eab308, #84cc16, #22c55e, #06b6d4, #3b82f6, #6366f1, #a855f7)'}}>
                            </div>
                            
                            <input 
                                type="range" 
                                min="0" 
                                max="14" 
                                step="0.1" 
                                value={ph} 
                                onChange={(e) => setPh(e.target.value)}
                                className="relative z-10 w-full accent-indigo-500"
                            />
                        </div>
                        
                        <div className="flex justify-between text-xs font-bold text-slate-500 mt-2">
                            <span>0 (Acidic)</span>
                            <span>7 (Neutral)</span>
                            <span>14 (Alkaline)</span>
                        </div>
                    </div>

                    {/* Experiment Area */}
                    <div className="flex flex-col md:flex-row gap-8 justify-center items-start">
                        {Indicators.map(ind => <Beaker key={ind.id} indicator={ind} />)}
                    </div>

                    {/* Info Cards */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                        {Indicators.map(ind => (
                            <div key={ind.id} className="bg-slate-800 p-4 rounded-xl border border-slate-700 hover:border-indigo-500/50 transition-colors">
                                <div className="flex justify-between items-center mb-2">
                                    <span className="font-bold text-slate-200 text-sm">{ind.name}</span>
                                    <span className="text-xs bg-slate-900 px-2 py-1 rounded text-slate-400 border border-slate-700">Range: {ind.lowPH} - {ind.highPH}</span>
                                </div>
                                <p className="text-xs text-slate-400 leading-relaxed">{ind.desc}</p>
                                
                                {/* Color Bar Visual */}
                                <div className="mt-3 h-2 rounded-full w-full" 
                                     style={{
                                        background: `linear-gradient(to right, rgb(${ind.lowColor.join(',')}) 0%, rgb(${ind.lowColor.join(',')}) 40%, rgb(${ind.highColor.join(',')}) 60%, rgb(${ind.highColor.join(',')}) 100%)`
                                     }}>
                                </div>
                                <div className="flex justify-between text-[10px] text-slate-500 mt-1">
                                    <span>pH &lt; {ind.lowPH}</span>
                                    <span>pH &gt; {ind.highPH}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    <div className="text-center text-slate-500 text-xs mt-12 border-t border-slate-800 pt-6">
                        Luminous Learner International | IB/A-Level Chemistry
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
