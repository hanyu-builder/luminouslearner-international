<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covalent Bond Sharer - LuminousLearner International</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0F172A; color: #e2e8f0; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        .atom-container {
            transition: transform 0.1s linear;
            cursor: grab;
        }
        .atom-container:active { cursor: grabbing; }

        .electron {
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -6px;
            margin-left: -6px;
            border-radius: 50%;
            background-color: #fbbf24; /* Amber-400 */
            width: 12px;
            height: 12px;
            box-shadow: 0 0 8px rgba(251, 191, 36, 0.8);
            z-index: 10;
        }

        .electron.shared {
            background-color: #34d399; /* Green-400 */
            box-shadow: 0 0 8px rgba(52, 211, 153, 0.8);
            z-index: 20;
            border: 1px solid white;
        }

        @keyframes bond-pulse {
            0% { box-shadow: 0 0 10px rgba(52, 211, 153, 0.2); }
            50% { box-shadow: 0 0 30px rgba(52, 211, 153, 0.5); }
            100% { box-shadow: 0 0 10px rgba(52, 211, 153, 0.2); }
        }
        .bonded-zone {
            animation: bond-pulse 2s infinite;
        }
        
        /* Custom Scrollbar for list */
        .molecule-list::-webkit-scrollbar { width: 6px; }
        .molecule-list::-webkit-scrollbar-track { background: #1e293b; }
        .molecule-list::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div id="root" class="flex-grow flex flex-col"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Molecule Data (Internationalized)
        const Molecules = [
            { id: 'H2', name: 'Hydrogen', formula: 'H₂', type: 'single', atoms: ['H', 'H'], bondCount: 1, desc: 'Single Bond (Non-polar)' },
            { id: 'Cl2', name: 'Chlorine', formula: 'Cl₂', type: 'single', atoms: ['Cl', 'Cl'], bondCount: 1, desc: 'Single Bond (Non-polar)' },
            { id: 'F2', name: 'Fluorine', formula: 'F₂', type: 'single', atoms: ['F', 'F'], bondCount: 1, desc: 'Single Bond (Non-polar)' },
            { id: 'HCl', name: 'Hydrogen Chloride', formula: 'HCl', type: 'single', atoms: ['H', 'Cl'], bondCount: 1, desc: 'Single Bond (Polar)' },
            { id: 'OH', name: 'Hydroxyl Group', formula: '-OH', type: 'single', atoms: ['O', 'H'], bondCount: 1, desc: 'Single Bond (Found in Water)', note: 'Part of H₂O' },
            { id: 'O2', name: 'Oxygen', formula: 'O₂', type: 'double', atoms: ['O', 'O'], bondCount: 2, desc: 'Double Bond' },
            { id: 'CO2', name: 'Carbon Dioxide (Bond)', formula: 'C=O', type: 'double', atoms: ['C', 'O'], bondCount: 2, desc: 'Double Bond (C=O part)', note: 'CO₂ has two of these' },
            { id: 'N2', name: 'Nitrogen', formula: 'N₂', type: 'triple', atoms: ['N', 'N'], bondCount: 3, desc: 'Triple Bond (Very Strong)' },
            { id: 'CO', name: 'Carbon Monoxide', formula: 'CO', type: 'triple', atoms: ['C', 'O'], bondCount: 3, desc: 'Triple Bond' }
        ];

        // Atom Properties (Styles & Valence)
        const AtomProps = {
            H: { symbol: 'H', color: 'bg-slate-200 text-slate-900', size: 70, valence: 1, max: 2 },
            Cl: { symbol: 'Cl', color: 'bg-green-200 text-green-900', size: 110, valence: 7, max: 8 },
            F: { symbol: 'F', color: 'bg-teal-200 text-teal-900', size: 90, valence: 7, max: 8 },
            O: { symbol: 'O', color: 'bg-red-200 text-red-900', size: 90, valence: 6, max: 8 },
            N: { symbol: 'N', color: 'bg-blue-200 text-blue-900', size: 90, valence: 5, max: 8 },
            C: { symbol: 'C', color: 'bg-gray-400 text-gray-900', size: 95, valence: 4, max: 8 },
            S: { symbol: 'S', color: 'bg-yellow-200 text-yellow-900', size: 105, valence: 6, max: 8 }
        };

        const Icon = ({ name, size = 20, className = "" }) => {
            const [svg, setSvg] = useState('');
            useEffect(() => {
                if (window.lucide) {
                    const iconNode = window.lucide.icons[name];
                    if (iconNode) {
                        const iconSvg = window.lucide.createElement(iconNode);
                        iconSvg.setAttribute('width', size);
                        iconSvg.setAttribute('height', size);
                        iconSvg.setAttribute('class', className);
                        setSvg(iconSvg.outerHTML);
                    }
                }
            }, [name, size, className]);
            return <span dangerouslySetInnerHTML={{ __html: svg }} className="flex items-center" />;
        };

        const App = () => {
            const [currentMolecule, setCurrentMolecule] = useState(Molecules[0]);
            const [distance, setDistance] = useState(250);
            const [isBonded, setIsBonded] = useState(false);
            const [showElectrons, setShowElectrons] = useState(true);
            const [bondStrength, setBondStrength] = useState(0);

            useEffect(() => {
                setDistance(250);
                setIsBonded(false);
                setBondStrength(0);
            }, [currentMolecule]);

            const handleDistanceChange = (e) => {
                const newDist = parseInt(e.target.value);
                setDistance(newDist);
                if (newDist < 130) {
                    setIsBonded(true);
                    setBondStrength(Math.min(100, Math.max(0, (130 - newDist) * 2)));
                } else {
                    setIsBonded(false);
                    setBondStrength(0);
                }
            };

            const atom1 = AtomProps[currentMolecule.atoms[0]];
            const atom2 = AtomProps[currentMolecule.atoms[1]];
            
            const renderShell = (atom, isLeft) => {
                const electrons = [];
                const totalValence = atom.valence;
                const bondingElectrons = currentMolecule.bondCount;
                const loneElectrons = totalValence - bondingElectrons;

                for (let i = 0; i < totalValence; i++) {
                    let isBonding = i < bondingElectrons;
                    let angle;
                    let radius = atom.size / 2 + 12;

                    if (isBonding) {
                        const spread = (i - (bondingElectrons-1)/2) * 0.4; 
                        angle = isLeft ? 0 + spread : Math.PI + spread;
                        if (isBonded) {
                             radius = distance / 2 - 5; 
                        }
                    } else {
                        const rangeStart = isLeft ? Math.PI/2 : -Math.PI/2;
                        const range = Math.PI; 
                        const loneIndex = i - bondingElectrons;
                        angle = rangeStart + Math.PI + (loneIndex + 1) * (range / (loneElectrons + 1));
                    }

                    const x = Math.cos(angle) * radius;
                    const y = Math.sin(angle) * radius;
                    const isShared = isBonded && isBonding;

                    electrons.push(
                        <div key={i} 
                             className={`electron ${isShared ? 'shared' : ''}`}
                             style={{ 
                                 transform: `translate(${x}px, ${y}px)`,
                                 transition: 'all 0.3s ease-out'
                             }}
                        ></div>
                    );
                }

                return (
                    <div className={`relative rounded-full flex items-center justify-center font-bold text-2xl shadow-lg border-4 border-white/20 ${atom.color}`}
                         style={{ width: atom.size, height: atom.size }}>
                        {atom.symbol}
                        <div className="absolute rounded-full border-2 border-slate-500/30 border-dashed"
                             style={{ width: atom.size + 24, height: atom.size + 24 }}></div>
                        {showElectrons && electrons}
                    </div>
                );
            };

            return (
                <div className="flex flex-col h-full container mx-auto px-4 py-6 max-w-6xl">
                    
                    {/* Header */}
                    <div className="flex justify-between items-center mb-6 border-b border-slate-700 pb-4">
                        <div>
                            <h1 className="text-2xl font-bold text-cyan-400 flex items-center gap-2">
                                <Icon name="Share2" /> Covalent Bond Sharer
                            </h1>
                            <p className="text-slate-400 text-sm">Visualizing Electron Sharing & Octets</p>
                        </div>
                    </div>

                    <div className="flex flex-col lg:flex-row gap-8 flex-grow">
                        
                        {/* Left: Interaction Stage */}
                        <div className="w-full lg:w-2/3 bg-slate-800 rounded-3xl border-4 border-slate-700 relative flex flex-col items-center justify-center min-h-[500px] shadow-2xl overflow-hidden p-8">
                            
                            <div className="absolute inset-0 opacity-10" 
                                 style={{backgroundImage: 'radial-gradient(#22d3ee 1px, transparent 1px)', backgroundSize: '30px 30px'}}></div>

                            {/* Atoms Visualization */}
                            <div className="relative w-full h-80 flex items-center justify-center">
                                
                                {/* Bonding Zone Glow */}
                                <div 
                                    className={`absolute bg-cyan-500/20 rounded-full transition-all duration-300 ${isBonded ? 'opacity-100 bonded-zone' : 'opacity-0'}`}
                                    style={{ width: distance + 50, height: 120, filter: 'blur(20px)' }}
                                ></div>

                                {/* Atom 1 */}
                                <div className="absolute transition-all duration-200 ease-out z-10"
                                     style={{ transform: `translateX(-${distance/2}px)` }}>
                                    {renderShell(atom1, true)}
                                </div>

                                {/* Atom 2 */}
                                <div className="absolute transition-all duration-200 ease-out z-10"
                                     style={{ transform: `translateX(${distance/2}px)` }}>
                                    {renderShell(atom2, false)}
                                </div>

                                {/* Shared Label */}
                                {isBonded && (
                                    <div className="absolute bottom-10 flex flex-col items-center animate-in slide-in-from-bottom-4 fade-in duration-500 z-30">
                                            <div className="flex gap-8 mb-1 opacity-60">
                                                <Icon name="ArrowUp" className="text-cyan-400 animate-bounce" size={20} />
                                            </div>
                                            <div className="bg-cyan-900/90 px-4 py-2 rounded-xl border border-cyan-500/50 backdrop-blur text-cyan-300 text-sm font-bold flex items-center gap-2 shadow-lg">
                                                <Icon name="Link" size={16}/> 
                                                <span>Shared Pair</span>
                                            </div>
                                            <div className="mt-1 text-xs text-cyan-200/70 font-mono">
                                                {currentMolecule.bondCount * 2} electrons shared
                                            </div>
                                    </div>
                                )}
                            </div>

                            {/* Distance Slider */}
                            <div className="w-full max-w-md bg-slate-900/80 p-6 rounded-xl border border-slate-600 relative z-20 backdrop-blur-sm">
                                <div className="flex justify-between text-sm mb-2">
                                    <span className="text-slate-400">Atomic Distance</span>
                                    <span className={isBonded ? 'text-green-400 font-bold' : 'text-slate-400'}>
                                        {isBonded ? 'Bonded!' : 'Too far'}
                                    </span>
                                </div>
                                <input 
                                    type="range" 
                                    min="100" 
                                    max="400" 
                                    value={distance} 
                                    onChange={handleDistanceChange}
                                    className="w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-400"
                                />
                                <div className="flex justify-between text-xs text-slate-500 mt-2">
                                    <span>Close (Overlap)</span>
                                    <span>Far (Separate)</span>
                                </div>
                            </div>

                        </div>

                        {/* Right: Controls & Info */}
                        <div className="w-full lg:w-1/3 flex flex-col gap-6">
                            
                            {/* Selection */}
                            <div className="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-lg flex flex-col max-h-[300px]">
                                <h3 className="text-lg font-bold mb-4 text-white flex items-center gap-2">
                                    <Icon name="Library" className="text-cyan-400"/> Select Molecule
                                </h3>
                                <div className="overflow-y-auto molecule-list pr-2 space-y-2 flex-grow">
                                    {Molecules.map(m => (
                                        <button 
                                            key={m.id}
                                            onClick={() => setCurrentMolecule(m)}
                                            className={`w-full p-3 rounded-lg border text-left transition-all flex justify-between items-center
                                                ${currentMolecule.id === m.id 
                                                    ? 'bg-cyan-900/40 border-cyan-500 text-cyan-100' 
                                                    : 'bg-slate-900 border-slate-600 text-slate-400 hover:bg-slate-700'}
                                            `}
                                        >
                                            <span className="font-bold text-sm">{m.name.split('(')[0]}</span>
                                            <span className="font-mono text-xs opacity-70 bg-slate-950 px-2 py-0.5 rounded border border-slate-700">{m.formula}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Info Card */}
                            <div className="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-lg flex-grow">
                                <div className="mb-6 p-4 bg-slate-900 rounded-xl border border-slate-600">
                                    <div className="text-xs text-slate-400 uppercase font-bold mb-1">Current Molecule</div>
                                    <div className="text-3xl font-bold text-white mb-1">{currentMolecule.formula}</div>
                                    <div className="text-sm text-cyan-400">{currentMolecule.name}</div>
                                </div>

                                <div className="space-y-4 text-sm text-slate-300 leading-relaxed">
                                    <div className="p-3 bg-slate-900/50 rounded-lg border-l-4 border-cyan-500">
                                        <strong className="text-white block mb-1">1. Covalent Bond</strong>
                                        Non-metal atoms share electrons to achieve a stable full outer shell (usually 8 electrons).
                                    </div>
                                    
                                    <div className="p-3 bg-slate-900/50 rounded-lg border-l-4 border-yellow-500">
                                        <strong className="text-white block mb-1">2. Bond Type</strong>
                                        <div className="flex items-center gap-2 mt-1">
                                            <span className="bg-slate-700 px-2 py-1 rounded text-white font-mono font-bold border border-slate-600">
                                                {currentMolecule.bondCount === 1 ? 'X — X' : currentMolecule.bondCount === 2 ? 'X = X' : 'X ≡ X'}
                                            </span>
                                            <span>{currentMolecule.desc}</span>
                                        </div>
                                    </div>

                                    <div className="p-3 bg-slate-900/50 rounded-lg border-l-4 border-green-500">
                                        <strong className="text-white block mb-1">3. Octet Rule</strong>
                                        {isBonded ? (
                                            <span className="text-green-400">
                                                Success! By sharing, both atoms now "own" enough electrons to be stable.
                                            </span>
                                        ) : (
                                            <span className="text-slate-400">
                                                Drag the slider to bring atoms closer until their orbitals overlap.
                                            </span>
                                        )}
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    
                    <div className="text-center text-slate-600 text-xs mt-8 border-t border-slate-800 pt-4">
                        Luminous Learner International | IB/A-Level Chemistry
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
